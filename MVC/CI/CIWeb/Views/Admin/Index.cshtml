@{    Layout = "_Empty";    ViewData["Title"] = "Stories";}<div>    <div class="container-fluid well" id="home" style="display:block;">        <div class="row">            <div class="col-lg-2 dashboard-sidebar-toggle" style="height: 100vh;">                <div class="sidebar" id="sidebar-divs">                    <div class="mb-3">Navigation</div>                    <div class="sidebar-detail dashbord-sidebar-detail dashboard-active-tab d-flex" id="User" onclick="makeDivActive('User')">                        <img src="~/img/dashboard-active.svg" alt="" class="dashboard-active sidebarimg">                        <div class="title-name">User</div>                    </div>                    <div class="sidebar-detail d-flex" id="CMS-Page" onclick="makeDivActive('CMS-Page')">                        <img src="~/img/graph-default.svg" alt="" class="graph-default sidebarimg ">                        <div class="title-name">CMS Page</div>                    </div>                    <div class="sidebar-detail d-flex" id="Mission" onclick="makeDivActive('Mission')">                        <img src="~/img/inbox-default.svg" alt="" class="inbox-default sidebarimg ">                        <div class="title-name">Mission</div>                    </div>                    <div class="sidebar-detail d-flex" id="Mission-Theme" onclick="makeDivActive('Mission-Theme')">                        <img src="~/img/clock-default.svg" alt="" class="clock-default sidebarimg ">                        <div class="title-name">Mission Theme</div>                    </div>                    <div class="sidebar-detail d-flex" id="Mission-SKills" onclick="makeDivActive('Mission-SKills')">                        <img src="~/img/user-default.svg" alt="" class="user-default sidebarimg ">                        <div class="title-name">Mission SKills</div>                    </div>                    <div class="sidebar-detail d-flex" id="Mission-Applications" onclick="makeDivActive('Mission-Applications')">                        <img src="~/img/maintenance-default.svg" alt="" class="maintenance-default sidebarimg ">                        <div class="title-name">Mission Applications</div>                    </div>                    <div class="sidebar-detail d-flex" id="Story" onclick="makeDivActive('Story')">                        <img src="~/img/setting-default.svg" alt="" class="setting-default sidebarimg ">                        <div class="title-name">Story</div>                    </div>                    <div class="sidebar-detail d-flex" id="Banner-Management" onclick="makeDivActive('Banner-Management')">                        <img src="~/img/setting-default.svg" alt="" class="setting-default sidebarimg ">                        <div class="title-name">Banner Management</div>                    </div>                </div>            </div>            <div class="col-lg-10 col-12 maindashboard">                <nav class="navbar navbar-expand-lg admin-user-profile-section shadow-none" style="background-color: #ffffff;">                    <div class="container-fluid">                        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas"                                data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">                            <span><img src="~/img/menu-bar.svg" alt="logo"></span>                        </button>                        <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar"                             aria-labelledby="offcanvasNavbarLabel">                            <div class="offcanvas-header">                                <div class="offcanvas-title" id="offcanvasNavbarLabel">Navigation</div>                                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>                            </div>                            <div class="offcanvas-body" style="justify-content: end;">                                <ul class="navbar-nav justify-content-end dashboard-nav-sidebar-toggle">                                    <li class="nav-item d-flex align-items-center">                                        <div class="sidebar-detail dashbord-sidebar-detail-mobile dashboard-active-tab d-flex" id="div1m" onclick="makeDivActive('div1m')">                                            <img src="~/img/dashboard-active.svg" alt="" class="dashboard-active sidebarimg">                                            <div class="title-name">User</div>                                        </div>                                    </li>                                    <li class="nav-item d-flex align-items-center">                                        <div class="sidebar-detail d-flex" id="div2m" onclick="makeDivActiveMobile('div2m')">                                            <img src="~/img/graph-default.svg" alt="" class="graph-default sidebarimg ">                                            <div class="title-name">CMS Page</div>                                        </div>                                    </li>                                    <li class="nav-item d-flex align-items-center">                                        <div class="sidebar-detail d-flex" id="div3m" onclick="makeDivActiveMobile('div3m')">                                            <img src="~/img/inbox-default.svg" alt="" class="inbox-default sidebarimg ">                                            <div class="title-name">Mission</div>                                        </div>                                    </li>                                    <li class="nav-item d-flex align-items-center">                                        <div class="sidebar-detail d-flex" id="div4m" onclick="makeDivActiveMobile('div4m')">                                            <img src="~/img/clock-default.svg" alt="" class="clock-default sidebarimg ">                                            <div class="title-name">Mission Theme</div>                                        </div>                                    </li>                                    <li class="nav-item d-flex align-items-center">                                        <div class="sidebar-detail d-flex" id="div5m" onclick="makeDivActiveMobile('div5m')">                                            <img src="~/img/user-default.svg" alt="" class="user-default sidebarimg ">                                            <div class="title-name">Mission SKills</div>                                        </div>                                    </li>                                    <li class="nav-item d-flex align-items-center">                                        <div class="sidebar-detail d-flex" id="div6m" onclick="makeDivActiveMobile('div6m')">                                            <img src="~/img/maintenance-default.svg" alt="" class="maintenance-default sidebarimg ">                                            <div class="title-name">Mission Applications</div>                                        </div>                                    </li>                                    <li class="nav-item d-flex align-items-center">                                        <div class="sidebar-detail d-flex" id="div7m" onclick="makeDivActiveMobile('div7m')">                                            <img src="~/img/setting-default.svg" alt="" class="setting-default sidebarimg ">                                            <div class="title-name">Story</div>                                        </div>                                    </li>                                    <li class="nav-item d-flex align-items-center">                                        <div class="sidebar-detail d-flex" id="div8m" onclick="makeDivActiveMobile('div8m')">                                            <img src="~/img/setting-default.svg" alt="" class="setting-default sidebarimg ">                                            <div class="title-name">Banner Management</div>                                        </div>                                    </li>                                </ul>                                <ul class="navbar-nav justify-content-between" style="width:100%">                                    <li id="dashboard-time">                                    </li>                                    <li class="nav-item d-flex align-items-center">                                        <div class="dropdown">                                            <a class="text-reset dropdown-toggle d-flex align-items-center" href="#"                                               id="navbarDropdownMenuLink" role="button" data-mdb-toggle="dropdown"                                               aria-expanded="false">                                                <img src="~/img/volunteer1.png" class="rounded-circle me-3" height="22" alt=""                                                     loading="lazy" style="                                    width: 30px;                                    height: 30px;                                    " />                                                Jenil Savani                                            </a>                                            <ul class="dropdown-menu dropdown-menu-start"                                                aria-labelledby="navbarDropdownMenuLink">                                                <li><a class="dropdown-item">DropDown</a></li>                                                <li><a class="dropdown-item">DropDown</a></li>                                                <li><a class="dropdown-item">DropDown</a></li>                                            </ul>                                        </div>                                    </li>                                </ul>                            </div>                        </div>                    </div>                </nav>                <div class="container" id="selected-option-title" style="position: relative;">                    User                    <hr />                </div>                <div class="container admin-data-table" id="admin-data-table">                </div>                @*                    <table class="table container table-striped table-hover" id='example'></table>                *@            </div>        </div>    </div></div>@*    all the modals for crud*@@*    User Crud Modal*@<div class="modal fade" id="User-Modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">    <div class="modal-dialog modal-xl">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="exampleModalLabel">User</h5>                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>            </div>            <div class="modal-body row">                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">First Name</label>                    <input type="text" class="form-control" id="user-crud-first-name" placeholder="Enter First Name">                    <span class="d-none mb-3 form-validation-msg" id="user-crud-first-name-error"></span>                </div>                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">Last Name</label>                    <input type="text" class="form-control" id="user-crud-last-name" placeholder="Enter Last Name">                    <span class="d-none mb-3 form-validation-msg" id="user-crud-last-name-error"></span>                </div>                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">Email address</label>                    <input type="email" class="form-control" id="user-crud-email" aria-describedby="emailHelp" placeholder="Enter email" value="" autocomplete="off">                    <span class="d-none mb-3 form-validation-msg" id="user-crud-email-error"></span>                </div>                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">Password</label>                    <input type="password" class="form-control" id="user-crud-password" placeholder="Enter password" value="" autocomplete="off">                    <span class="d-none mb-3 form-validation-msg" id="user-crud-password-error"></span>                </div>                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">Avatar</label>                    <input type="file" accept="image/jpeg, image/png, image/jpg" class="form-control file" id="user-crud-avatar" placeholder="Upload Image Here...">                </div>                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">Employee Id</label>                    <input type="number" class="form-control" id="user-crud-employee-id" placeholder="Enter employee id">                    <span class="d-none mb-3 form-validation-msg" id="user-crud-employee-id-error"></span>                </div>                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">Department</label>                    <input type="text" class="form-control" id="user-crud-department" placeholder="Enter department">                    <span class="d-none mb-3 form-validation-msg" id="user-crud-department-error"></span>                </div>                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">Mobile Number</label>                    <input type="tel" class="form-control" id="user-crud-mobile-number" placeholder="Enter phone number">                    <span class="d-none mb-3 form-validation-msg" id="user-crud-mobile-number-error"></span>                </div>                <div class="col-lg-6 col-md-10 d-flex flex-column mt-3">                    <label for="exampleFormControlTextarea1">Country</label>                    <select class="form-control form-select mt-2" aria-label="Default select example" id="user-crud-country-dropdown" onchange="loadCityForCountry(this.value)">                        <option class="country-option" value="0" selected>Please Select Country</option>                    </select>                    <span class="d-none mb-3 form-validation-msg" id="user-crud-country-dropdown-error"></span>                </div>                <div class="col-lg-6 col-md-10 d-flex flex-column mt-3">                    <label for="exampleFormControlTextarea1">City</label>                    <select class="form-control form-select mt-2" aria-label="Default select example" id="user-crud-city-dropdown">                        <option value="0" selected>Please Select Country First</option>                    </select>                    <span class="d-none mb-3 form-validation-msg" id="user-crud-city-dropdown-error"></span>                </div>                <div class="form-group col-md-6 mt-3">                    <label for="exampleInputEmail1">Profile Text</label>                    <textarea class="form-control" id="user-crud-profile-text" rows="2"></textarea>                    <span class="d-none mb-3 form-validation-msg" id="user-crud-profile-text-error"></span>                </div>                <div class="col-lg-6 col-md-10 d-flex flex-column mt-3">                    <label for="exampleFormControlTextarea1">Status</label>                    <select class="form-control form-select mt-2" aria-label="Default select example" id="user-crud-status-dropdown">                        <option value="1" selected>Active</option>                        <option value="0">In-Active</option>                        <input hidden type="text" id="user-crud-edit-id" value="" />                    </select>                </div>            </div>            <div class="modal-footer" id="user-crud-modal-btn">                <button type="button" class="btn btn-secondary user-crud-close-btn" data-bs-dismiss="modal">Close</button>                <button type="button" class="btn btn-primary user-crud-save-btn" id="user-crud-save-btn" onclick="AddUserModal()">Save changes</button>            </div>        </div>    </div></div>@*    CMS Page Crud Modal*@<div class="modal fade" id="CMS-Page-Modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">    <div class="modal-dialog modal-xl">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="exampleModalLabel">CMS Page</h5>                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>            </div>            <div class="modal-body">                <div class="form-group mt-3">                    <label for="exampleInputEmail1">Title</label>                    <input type="text" class="form-control" name="CMSTitle" id="cms-crud-title" placeholder="Enter Title">                    <span class="d-none mb-3 form-validation-msg" id="cms-crud-title-error"></span>                </div>                <div class="form-group mt-3">                    <label for="exampleInputEmail1">Description</label>                    <textarea class="cmspageeditor" id="cmspageeditor" name="cmspageeditor"></textarea>                </div>                <div class="form-group mt-3">                    <label for="exampleInputEmail1">Slug</label>                    <input type="text" class="form-control" name="Slug" id="cms-crud-Slug" placeholder="Enter Slug">                    <span class="d-none mb-3 form-validation-msg" id="cms-crud-Slug-error"></span>                </div>                <div class="form-group mt-3">                    <label for="exampleInputEmail1">Status</label>                    <select class="form-control form-select mt-2" name="Status" aria-label="Default select example" id="cms-crud-status">                        <option value="Pending" selected>Pending</option>                        <option value="Published">Published</option>                        <input hidden type="text" id="cms-page-edit-id" value="" />                    </select>                </div>            </div>            <div class="modal-footer" id="cms-page-modal-btn">                <button type="button" class="btn btn-secondary cms-crud-close-btn" data-bs-dismiss="modal">Close</button>                <button type="submit" class="btn btn-primary cms-crud-save-btn" data-bs-dismiss="modal" id="cms-crud-save-btn" onclick="addCMS()">Save changes</button>            </div>        </div>    </div></div>@*    Mission Theme Crud Modal*@<div class="modal fade" id="Mission-Theme-Modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">    <div class="modal-dialog modal-lg">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="exampleModalLabel">Add New Mission Theme</h5>                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>            </div>            <div class="modal-body">                <div class="form-group mt-3">                    <label for="exampleInputEmail1">Title</label>                    <input type="text" class="form-control" name="MTTitle" id="mission-theme-crud-title" placeholder="Enter Title">                    <span class="d-none mb-3 form-validation-msg" id="mission-theme-crud-title-error"></span>                </div>                <div class="form-group mt-3">                    <label for="exampleInputEmail1">Status</label>                    <select class="form-control form-select mt-2" name="Status" aria-label="Default select example" id="mission-theme-crud-status">                        <option value="Pending" selected>Pending</option>                        <option value="Published">Published</option>                        <input hidden type="text" id="mission-theme-edit-id" value="" />                    </select>                </div>            </div>            <div class="modal-footer" id="mission-theme-crud-btn">                <button type="button" class="btn btn-secondary mission-theme-crud-close-btn" data-bs-dismiss="modal">Close</button>                <button type="submit" class="btn btn-primary mission-theme-crud-save-btn" data-bs-dismiss="modal" id="mission-theme-crud-save-btn" onclick="AddMissionTheme()">Save changes</button>            </div>        </div>    </div></div>@*    Mission Skill Crud Modal*@<div class="modal fade" id="Mission-SKills-Modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">    <div class="modal-dialog modal-lg">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="exampleModalLabel">Add New Skill</h5>                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>            </div>            <div class="modal-body">                <div class="form-group mt-3">                    <label for="exampleInputEmail1">Skill Name</label>                    <input type="text" class="form-control" id="mission-skill-crud-title" placeholder="Enter skill name">                    <span class="d-none mb-3 form-validation-msg" id="mission-skill-crud-title-error"></span>                </div>                <div class="form-group mt-3">                    <label for="exampleInputEmail1">Status</label>                    <select class="form-control form-select mt-2" aria-label="Default select example" id="mission-skill-crud-status">                        <option value="Pending" selected>Pending</option>                        <option value="Published">Published</option>                        <input hidden type="text" id="mission-skill-edit-id" value="" />                    </select>                </div>            </div>            <div class="modal-footer" id="mission-skill-crud-btn">                <button type="button" class="btn btn-secondary mission-skill-crud-close-btn" data-bs-dismiss="modal">Close</button>                <button type="submit" class="btn btn-primary mission-skill-crud-save-btn" data-bs-dismiss="modal" id="mission-skill-crud-save-btn" onclick="AddMissionSkill()">Save changes</button>            </div>        </div>    </div></div>@*    mission modal*@<div class="modal fade" id="Mission-Modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">    <div class="modal-dialog modal-xl">        <div class="modal-content">            <div class="modal-header">                <h5 class="modal-title" id="exampleModalLabel">Mission Modal</h5>                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>            </div>            <div class="modal-body">                <div class="row g-3">                    <div class="col-md-6">                        <label for="mission-title" class="form-label">Title</label>                        <input type="text" class="form-control" id="mission-title">                        <span class="d-none mb-3 form-validation-msg" id="mission-title-error"></span>                    </div>                    <div class="col-md-6">                        <label for="mission-organization" class="form-label">Organization</label>                        <input type="text" class="form-control" id="mission-organization">                        <span class="d-none mb-3 form-validation-msg" id="mission-organization-error"></span>                    </div>                    <div class="form-group mt-3 col-md-6">                        <label for="exampleInputEmail1" class="form-label">Mission Description</label>                        <textarea class="cmspageeditor" id="cmspageeditor1" name="cmspageeditor"></textarea>                    </div>                    <div class="form-group mt-3 col-md-6">                        <label for="exampleInputEmail1" class="form-label">Mission Organisation Detail</label>                        <textarea class="cmspageeditor" id="cmspageeditor2" name="cmspageeditor"></textarea>                    </div>                    <div class="form-group mt-3 col-md-6">                        <lable for="mission-start-date" class="form-label">Mission start date</lable>                        <input class="form-control" type="datetime-local" id="mission-start-date"/>                        <span class="d-none mb-3 form-validation-msg" id="mission-start-date-error"></span>                    </div>                    <div class="form-group mt-3 col-md-6">                        <lable for="mission-end-date" class="form-label">Mission end date</lable>                        <input class="form-control" type="datetime-local" id="mission-end-date"/>                        <span class="d-none mb-3 form-validation-msg" id="mission-end-date-error"></span>                    </div>                    <div class="form-group mt-3 col-md-4">                        <lable for="mission-country" class="form-label">Country</lable>                        <select class="form-select" aria-label="Default select example" id="mission-country" onchange="loadCityForCountry(this.value)">                          <option selected disabled hidden>Open this select menu</option>                                                 </select>                        <span class="d-none mb-3 form-validation-msg" id="mission-country-error"></span>                    </div>                    <div class="form-group mt-3 col-md-4">                        <lable for="mission-city" class="form-label">City</lable>                        <select class="form-select" aria-label="Default select example" id="mission-city">                          <option selected disabled hidden>Open this select menu</option>                                                 </select>                        <span class="d-none mb-3 form-validation-msg" id="mission-city-error"></span>                    </div>                    <div class="form-group mt-3 col-md-4">                        <lable for="mission-type" class="form-label">Mission Type</lable>                        <select class="form-select" aria-label="Default select example" id="mission-type">                          <option selected disabled hidden>Open this select menu</option>                          <option value="Time">Time</option>                          <option value="Goal">Goal</option>                        </select>                        <span class="d-none mb-3 form-validation-msg" id="mission-type-error"></span>                    </div>                    <div class="form-group mt-3 col-md-4">                        <label for="mission-seats" class="form-label" style="margin: 0;">Total Seats</label>                        <input type="number" class="form-control" id="mission-seats">                    </div>                    <div class="form-group mt-3 col-md-4">                        <lable for="mission-registration-deadline" class="form-label">Mission registration deadline</lable>                        <input class="form-control" type="datetime-local" id="mission-registration-deadline"/>                    </div>                    <div class="form-group mt-3 col-md-4">                        <lable for="mission-status" class="form-label">Mission Status</lable>                        <select class="form-select" aria-label="Default select example" id="mission-status">                          <option selected disabled hidden>Open this select menu</option>                          <option value="1">Active</option>                          <option value="0">In-Active</option>                        </select>                        <span class="d-none mb-3 form-validation-msg" id="mission-status-error"></span>                    </div>                    <div class="form-group mt-3 col-md-6">                        <lable for="mission-theme" class="form-label">Mission Theme</lable>                        <select class="form-select" aria-label="Default select example" id="mission-theme">                          <option selected disabled hidden>Open this select menu</option>                                                 </select>                        <span class="d-none mb-3 form-validation-msg" id="mission-theme-error"></span>                    </div>                    @*<div class="mt-3 col-md-4">                        <lable for="mission-skill" class="form-label">Mission Skill</lable>                        <select class="form-select" aria-label="Default select example" id="mission-skill">                          <option selected disabled hidden>Open this select menu</option>                                                 </select>                    </div>*@                    <div class="form-group mt-3 col-md-6">                        <lable for="mission-availability" class="form-label">Mission Availability</lable>                        <select class="form-select" aria-label="Default select example" id="mission-availability">                          <option selected disabled hidden>Open this select menu</option>                          <option value="daily">daily</option>                          <option value="weekly">weekly</option>                          <option value="weekend">weekend</option>                        </select>                        <span class="d-none mb-3 form-validation-msg" id="mission-availability-error"></span>                    </div>                    <div class="form-group mt-3 col-md-6">                        <lable for="mission-images" class="form-label">Mission Media</lable>                        <input id="mission-images" name="input2[]" type="file" class="file" data-show-caption="true" multiple onchange="InsertMissionImage()">                    </div>                    <div class="form-group mt-3 col-md-6">                        <lable for="mission-document" class="form-label">Mission Document</lable>                        <input id="mission-document" name="input2[]" type="file" class="file"  data-show-upload="false" data-show-caption="true" multiple onchange="InsertMissionDocs()">                    </div>                </div>            </div>            <div class="modal-footer" id="mission-crud-btn">                <button type="button" class="btn btn-secondary mission-skill-crud-close-btn" data-bs-dismiss="modal">Close</button>                <button type="submit" class="btn btn-primary mission-skill-crud-save-btn" id="mission-crud-save-btn" onclick="AddMission()">Save changes</button>            </div>                    </div>    </div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"        crossorigin="anonymous"></script><script>     CKEDITOR.config.toolbar_MA=[                         { name: 'basicstyles', items: [ 'Bold', 'Italic', 'Strike', '-', 'Subscript', 'Superscript', 'RemoveFormat' ] }                     ];     CKEDITOR.replace('cmspageeditor', {   toolbar:'MA'    });     CKEDITOR.replace('cmspageeditor1', {   toolbar:'MA'    });     CKEDITOR.replace('cmspageeditor2', {   toolbar:'MA'    });     $(document).ready(function() {         makeDivActive('User')     })     var currentdate = new Date();     var datetime = "Last Sync: " + currentdate.getDate() + "/"                     + (currentdate.getMonth()+1)  + "/"                     + currentdate.getFullYear() +  " "                     + currentdate.getHours() + ":"                     + currentdate.getMinutes()     $('#dashboard-time').html(datetime)     function makeDivActive(ID) {         var allDivs = document.querySelector(".dashbord-sidebar-detail");         allDivs.classList.remove("dashbord-sidebar-detail");         var newActiveDiv = document.querySelector("#" + ID);         newActiveDiv.classList.add("dashbord-sidebar-detail");         var title = document.querySelector("#selected-option-title");         var newTitle = document.getElementById(ID).querySelector(".title-name");         const hr = document.createElement("hr");         var addBtn = `<button type="button" id="user-add-btn" class="btn btn-outline-warning" data-bs-toggle="modal" data-bs-target="#${ID}-Modal" style="right: 32px;position: absolute;">Add +</button>`;         title.innerHTML = newTitle.innerHTML;         title.innerHTML += addBtn;         title.appendChild(hr);         $.ajax({             url: "/api/admin",             type: "GET",             success: function(result) {                 var myJsonString = JSON.stringify(result);                 // mission datatable                 if (ID == "Mission") {                     var tableDiv = document.querySelector("#admin-data-table");                     var missionTable = `                         <table class="table container table-striped table-hover" id='mission-table'>                             <thead>                                 <tr>                                     <th>Title</th>                                     <th>Mission Type</th>                                     <th>Start Date</th>                                     <th>End Date</th>                                     <th>Action</th>                                 </tr>                             </thead>                             <tbody id="table-data-mission">                             </tbody>                         </table>`;                     tableDiv.innerHTML = missionTable;                     $(function() {                         $.each(result.missions, function(i, item) {                             if (result.missions.length > 0) {                                 if ($(".dataTables_empty").hasClass("dataTables_empty")) {                                     $(".dataTables_empty").hide();                                 }                             }                             $("#table-data-mission").append(`                                 <tr id='${item.missionId}'>                                     <td id="title">${item.title}</td>                                     <td id="type">${item.missionType}                                     </td>                                     <td id="sDate">${item.startDate.split("T")[0]}</td>                                     <td id="eDate">${item.endDate.split("T")[0]}</td>                                     <td id="action"><i class="fas fa-edit" data-bs-toggle="modal" data-bs-target="#${ID}-Modal" onclick="LoadMissionData(${item.missionId})"></i> | <i class="fa fa-trash" style="color:red" onclick="DeleteMission(${item.missionId})"></i></td>                                 </tr>`);                         });                         $("#mission-table").DataTable({                             language: {                                 searchPlaceholder: "Search records",                                 search: "",                               }                         });                     });                 }                 // User datatable                 else if (ID == "User") {                     var tableDiv = document.querySelector("#admin-data-table");                     var missionTable = `                         <table class="table container table-striped table-hover" id='mission-table'>                             <thead>                                 <tr>                                     <th>FirstName</th>                                     <th>LastName</th>                                     <th>Email</th>                                     <th>Employee Id</th>                                     <th>Department</th>                                     <th>Status</th>                                     <th>Action</th>                                 </tr>                             </thead>                             <tbody id="table-data-mission" class="new-table">                             </tbody>                         </table>`;                 console.log(result)                     tableDiv.innerHTML = missionTable;                     $(function() {                         $.each(result.users, function(i, item) {                             if (result.users.length > 0) {                                 if ($(".dataTables_empty").hasClass("dataTables_empty")) {                                     $(".dataTables_empty").hide();                                 }                             }                             $("#table-data-mission").append(`                                 <tr id='${item.id}'>                                     <td id="fName">${item.firstName}</td>                                     <td id="lName">${item.lastName}</td>                                     <td id="email">${item.email}</td>                                     <td id="empId">${item.employeeId}</td>                                     <td id="dept">${item.department}</td>                                     <td class="userStatus">${item.status==1?"Active":"In-Active"}</td>                                     <td id="action"><i class="fas fa-edit" data-bs-toggle="modal" data-bs-target="#${ID}-Modal" onclick="editUserCrud(${item.id})"></i> | <i class="fa fa-trash" style="color:red" onclick="deleteUserCrud(${item.id})"></i></td>                                 </tr>`);                         });                         $("#mission-table").DataTable({                             language: {                                 searchPlaceholder: "Search records",                                 search: "",                               }                         });                     });                 }                 //CMS Pages datatable                 else if (ID == "CMS-Page") {                     console.log(result.cmsPages);                     var tableDiv = document.querySelector("#admin-data-table");                     var missionTable = `                 <table class="table container table-striped table-hover" id='mission-table'>                     <thead>                         <tr>                             <th>Title</th>                             <th>Status</th>                             <th>Action</th>                         </tr>                     </thead>                     <tbody id="table-data-mission">                     </tbody>                 </table>`;                     tableDiv.innerHTML = missionTable;                     $(function() {                         $.each(result.cmsPages, function(i, item) {                             if (result.cmsPages.length > 0) {                                 if ($(".dataTables_empty").hasClass("dataTables_empty")) {                                     $(".dataTables_empty").hide();                                 }                             }                             $("#table-data-mission").append(`                 <tr id='${item.cmsPageId}'>                     <td id="title">${item.title}</td>                     <td id="sDate">${item.status}</td>                     <td id="action"><i class="fas fa-edit" data-bs-toggle="modal" data-bs-target="#${ID}-Modal" onclick="editCMSPage(${item.cmsPageId})"></i> | <i class="fa fa-trash" style="color:red" onclick="deleteCMS(${item.cmsPageId})"></i></td>                 </tr>`);                         });                         $("#mission-table").DataTable({                             language: {                                 searchPlaceholder: "Search records",                                 search: "",                               }                         });                     });                 }                 //Mission Theme datatable                 else if (ID == "Mission-Theme") {                     console.log(result.missionthemes);                     var tableDiv = document.querySelector("#admin-data-table");                     var missionTable = `                 <table class="table container table-striped table-hover" id='mission-table'>                     <thead>                         <tr>                             <th>Title</th>                             <th>Status</th>                             <th>Action</th>                         </tr>                     </thead>                     <tbody id="table-data-mission">                     </tbody>                 </table>`;                     tableDiv.innerHTML = missionTable;                     $(function() {                         $.each(result.missionthemes, function(i, item) {                             if (result.missionthemes.length > 0) {                                 if ($(".dataTables_empty").hasClass("dataTables_empty")) {                                     $(".dataTables_empty").hide();                                 }                             }                             $("#table-data-mission").append(`                                 <tr id='${item.cmsPageId}'>                                     <td id="title">${item.title}</td>                                     <td id="sDate">${item.status==1?"Active":"In-Active"}</td>                                     <td id="action"><i class="fas fa-edit" data-bs-toggle="modal" data-bs-target="#${ID}-Modal" onclick="LoadMissionTheme(${item.themeId})"></i> | <i class="fa fa-trash" style="color:red" onclick="DeleteMission(${item.themeId})"></i></td>                                 </tr>`);                         });                         $("#mission-table").DataTable({                             language: {                                 searchPlaceholder: "Search records",                                 search: "",                               }                         });                     });                 }                 //Mission Skills datatable                 else if (ID == "Mission-SKills") {                     console.log(result.missionSkills);                     var tableDiv = document.querySelector("#admin-data-table");                     var missionTable = `                 <table class="table container table-striped table-hover" id='mission-table'>                     <thead>                         <tr>                             <th>Title</th>                             <th>Status</th>                             <th>Action</th>                         </tr>                     </thead>                     <tbody id="table-data-mission">                     </tbody>                 </table>`;                 console.log(result.missionSkills)                     tableDiv.innerHTML = missionTable;                     $(function() {                         $.each(result.missionSkills, function(i, item) {                             if (result.missionSkills.length > 0) {                                 if ($(".dataTables_empty").hasClass("dataTables_empty")) {                                     $(".dataTables_empty").hide();                                 }                             }                             $("#table-data-mission").append(`                 <tr id='${item.cmsPageId}'>                     <td id="title">${item.skillName}</td>                     <td id="sDate">${item.status==1?"Active":"In-Active"}</td>                     <td id="action"><i class="fas fa-edit" data-bs-toggle="modal" data-bs-target="#${ID}-Modal" onclick="LoadMissionSkill(${item.skillId})"></i> | <i class="fa fa-trash" style="color:red" onclick="DeleteSkill(${item.skillId})"></i></td>                 </tr>`);                         });                         $("#mission-table").DataTable({                             language: {                                 searchPlaceholder: "Search records",                                 search: "",                               }                         });                     });                 }                 // mission application datatable                 else if (ID == "Mission-Applications") {                     $("#user-add-btn").addClass('d-none');                     var tableDiv = document.querySelector("#admin-data-table");                     tableDiv.innerHTML = "";                     var missionTable = `                 <table class="table container table-striped table-hover" id='mission-table'>                     <thead>                         <tr>                             <th>Mission Title</th>                             <th>Misison Id</th>                             <th>User Id</th>                             <th>User Name</th>                             <th>Applied At</th>                             <th>Action</th>                         </tr>                     </thead>                     <tbody id="table-data-mission">                     </tbody>                 </table>`;                     tableDiv.innerHTML = missionTable;                     $(function() {                         $.each(result.missionApplication, function(i, item) {                             if (result.missionApplication.length > 0) {                                 if ($(".dataTables_empty").hasClass("dataTables_empty")) {                                     $(".dataTables_empty").hide();                                 }                             }                             $("#table-data-mission").append(`                 <tr id='${i}'>                     <td id="title">${item.title}</td>                     <td id="mId">${item.missionId}</td>                     <td id="uId">${item.userId}</td>                     <td id="name">${item.username}</td>                     <td id="aDate">${item.appliedAt.split("T")[0]}</td>                     <td id="action">                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="green" class="bi bi-check-circle" viewBox="0 0 16 16" style="cursor:pointer;" onclick="ApproveMissionApplication(${item.id})">                           <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>                           <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>                         </svg> | <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="red" class="bi bi-x-circle" viewBox="0 0 16 16" style="cursor:pointer;" onclick="RejectMissionApplication(${item.id})">                           <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>                           <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>                         </svg>                 </tr>`);                         });                         $("#mission-table").DataTable({                             language: {                                 searchPlaceholder: "Search records",                                 search: "",                               }                         });                     });                 }                 // story datatable                 else if (ID == "Story") {                     $("#user-add-btn").addClass('d-none');                     var tableDiv = document.querySelector("#admin-data-table");                     tableDiv.innerHTML = "";                     var missionTable = `                 <table class="table container table-striped table-hover" id='mission-table'>                     <thead>                         <tr>                             <th>Story Title</th>                             <th>Full Name</th>                             <th>Mission Title</th>                             <th>Action</th>                         </tr>                     </thead>                     <tbody id="table-data-mission">                     </tbody>                 </table>`;                     tableDiv.innerHTML = missionTable;                     $(function() {                         $.each(result.missionStory, function(i, item) {                             if (result.missionStory.length > 0) {                                 if ($(".dataTables_empty").hasClass("dataTables_empty")) {                                     $(".dataTables_empty").hide();                                 }                             }                             $("#table-data-mission").append(`                 <tr id='${item.storyId}'>                     <td id="stitle">${item.storyTitle}</td>                     <td id="uName">${item.username}</td>                     <td id="mTitle">${item.missionTitle}</td>                     <td id="action">                     <a type="button" class="btn view-story-btn" href="/story/${item.storyId}">View</a>                     |  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="green" class="bi bi-check-circle" viewBox="0 0 16 16" style="cursor:pointer;" onclick="ApproveStory(${item.storyId})">                           <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>                           <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>                         </svg>  |  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="red" class="bi bi-x-circle" style="cursor:pointer;" viewBox="0 0 16 16" onclick="RejectStory(${item.storyId})">                           <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>                           <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>                         </svg>  |  <i class="fa fa-trash" style="color:red;cursor:pointer;" onclick="DeleteStory(${item.storyId})"></i>                     </td>                 </tr>`);                         });                         $("#mission-table").DataTable({                             language: {                                 searchPlaceholder: "Search records",                                 search: "",                               }                         });                     });                 }             },         });     }     function makeDivActiveMobile(ID) {         var allDivs = document.querySelector(".dashbord-sidebar-detail-mobile");         var removed = allDivs.classList.remove("dashbord-sidebar-detail-mobile");         var newActiveDiv = document.querySelector("#" + ID);         newActiveDiv.classList.add("dashbord-sidebar-detail-mobile");         var title = document.querySelector("#selected-option-title");         var newTitle = document.getElementById(ID).querySelector(".title-name");         const hr = document.createElement("hr");         title.innerHTML = newTitle.innerHTML;         title.appendChild(hr);     }     // user crud start     function loadCountry(response) {                     var html = "";                     if(response.userCountry != null ) {                         html = "<option disabled hidden>select your country</option>";                     } else {                         html = "<option selected disabled hidden>select your country</option>";                     }                     response.country.map(item => {                         if(response.userCountry != null && item.countryId == response.userCountry ) {                             html += `<option value="${item.countryId}" selected>${item.name}</option>`                         } else {                             html += `<option value="${item.countryId}" >${item.name}</option>`                         }                     }).join(" ")                     return html;                 }                 //load countrys in drop-down                 $.ajax({                     type: "GET",                     url: `/api/profile/country`,                     success: function (response) {                         var countryElements = document.getElementById("user-crud-country-dropdown");                         countryElements.innerHTML = loadCountry(response);                         var countryElements = document.getElementById("mission-country");                         countryElements.innerHTML = loadCountry(response);                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                  });     // load country related city              function loadCity(response) {                  var html = "<option selected disabled hidden>select your city</option>";                 response.country.map(item => {                     html += `<option value="${item.cityId}" >${item.name}</option>`                 }).join(" ")                 return html;              }             function loadCityForCountry(countryId) {                 $.ajax({                     type: "GET",                     url: `/api/profile/country/${countryId}`,                     success: function (response) {                         var city = document.getElementById("user-crud-city-dropdown");                         city.innerHTML = loadCity(response);                                                  var city = document.getElementById("mission-city");                         city.innerHTML = loadCity(response);                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });             }     function AddUserModal() {         var error = 0;         var firstname = $('#user-crud-first-name').val()         if(firstname=="") {             error = 1;             $('#user-crud-first-name-error').removeClass("d-none")             $('#user-crud-first-name-error').html("FirstName is required.")         } else {             $('#user-crud-first-name-error').addClass("d-none")         }         var lastname= $('#user-crud-last-name').val()         if(lastname=="") {             error = 1;             $('#user-crud-last-name-error').removeClass("d-none")             $('#user-crud-last-name-error').html("LastName is required.")         } else {             $('#user-crud-last-name-error').addClass("d-none")         }         var email= $('#user-crud-email').val()         if(email=="") {             error = 1;             $('#user-crud-email-error').removeClass("d-none")             $('#user-crud-email-error').html("Email is required.")         } else {             $('#user-crud-email-error').addClass("d-none")         }         var password= $('#user-crud-password').val()         if(password=="") {             error = 1;             $('#user-crud-password-error').removeClass("d-none")             $('#user-crud-password-error').html("password is required.")         } else {             $('#user-crud-password-error').addClass("d-none")         }         var avatar= $('#user-crud-avatar').val()         var empId= $('#user-crud-employee-id').val()         if(empId=="") {             error = 1;             $('#user-crud-employee-id-error').removeClass("d-none")             $('#user-crud-employee-id-error').html("Emp Id is required.")         } else {             $('#user-crud-employee-id-error').addClass("d-none")         }         var department= $('#user-crud-department').val()         if(department=="") {             error = 1;             $('#user-crud-department-error').removeClass("d-none")             $('#user-crud-department-error').html("department is required.")         } else {             $('#user-crud-department-error').addClass("d-none")         }         var mobileNo= $('#user-crud-mobile-number').val()         if(mobileNo=="") {             error = 1;             $('#user-crud-mobile-number-error').removeClass("d-none")             $('#user-crud-mobile-number-error').html("mobile number is required.")         } else {             $('#user-crud-mobile-number-error').addClass("d-none")         }         var country= $('#user-crud-country-dropdown').val()         if(country=="0") {             error = 1;             $('#user-crud-country-dropdown-error').removeClass("d-none")             $('#user-crud-country-dropdown-error').html("Country is required.")         } else {             $('#user-crud-country-dropdown-error').addClass("d-none")         }         var city= $('#user-crud-city-dropdown').val()         if(city=="0") {             error = 1;             $('#user-crud-city-dropdown-error').removeClass("d-none")             $('#user-crud-city-dropdown-error').html("City is required.")         } else {             $('#user-crud-city-dropdown-error').addClass("d-none")         }         var pText= $('#user-crud-profile-text').val()         if(pText=="") {             error = 1;             $('#user-crud-profile-text').removeClass("d-none")             $('#user-crud-profile-text').html("profile text is required.")         } else {             $('#user-crud-profile-text-error').addClass("d-none")         }         var status= $('#user-crud-status-dropdown').val()         if(error==0) {             $.ajax({                     type: "POST",                     url: `/api/admin/addUser`,                     data: {                         "firstName":firstname,                         "lastName":lastname,                         "phoneNumber":mobileNo,                         "avatar":avatar,                         "employeeId":empId,                         "department":department,                         "city":city,                         "country":country,                         "profileText":pText,                         "password":password,                         "email":email                     },                     success: function (response) {                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });         }         error=0;     }     function EditUserModal(id) {         //edit ajax call         var error = 0;         var firstname = $('#user-crud-first-name').val()         if(firstname=="") {             error = 1;             $('#user-crud-first-name-error').removeClass("d-none")             $('#user-crud-first-name-error').html("FirstName is required.")         } else {             $('#user-crud-first-name-error').addClass("d-none")         }         var lastname= $('#user-crud-last-name').val()         if(lastname=="") {             error = 1;             $('#user-crud-last-name-error').removeClass("d-none")             $('#user-crud-last-name-error').html("LastName is required.")         } else {             $('#user-crud-last-name-error').addClass("d-none")         }         var email= $('#user-crud-email').val()         if(email=="") {             error = 1;             $('#user-crud-email-error').removeClass("d-none")             $('#user-crud-email-error').html("Email is required.")         } else {             $('#user-crud-email-error').addClass("d-none")         }         var password= $('#user-crud-password').val()         if(password=="") {             error = 1;             $('#user-crud-password-error').removeClass("d-none")             $('#user-crud-password-error').html("password is required.")         } else {             $('#user-crud-password-error').addClass("d-none")         }         var avatar= $('#user-crud-avatar').val()         var empId= $('#user-crud-employee-id').val()         if(empId=="") {             error = 1;             $('#user-crud-employee-id-error').removeClass("d-none")             $('#user-crud-employee-id-error').html("Emp Id is required.")         } else {             $('#user-crud-employee-id-error').addClass("d-none")         }         var department= $('#user-crud-department').val()         if(department=="") {             error = 1;             $('#user-crud-department-error').removeClass("d-none")             $('#user-crud-department-error').html("department is required.")         } else {             $('#user-crud-department-error').addClass("d-none")         }         var mobileNo= $('#user-crud-mobile-number').val()         if(mobileNo=="") {             error = 1;             $('#user-crud-mobile-number-error').removeClass("d-none")             $('#user-crud-mobile-number-error').html("mobile number is required.")         } else {             $('#user-crud-mobile-number-error').addClass("d-none")         }         var country= $('#user-crud-country-dropdown').val()         if(country=="0") {             error = 1;             $('#user-crud-country-dropdown-error').removeClass("d-none")             $('#user-crud-country-dropdown-error').html("Country is required.")         } else {             $('#user-crud-country-dropdown-error').addClass("d-none")         }         var city= $('#user-crud-city-dropdown').val()         if(city=="0") {             error = 1;             $('#user-crud-city-dropdown-error').removeClass("d-none")             $('#user-crud-city-dropdown-error').html("City is required.")         } else {             $('#user-crud-city-dropdown-error').addClass("d-none")         }         var pText= $('#user-crud-profile-text').val()         if(pText=="") {             error = 1;             $('#user-crud-profile-text').removeClass("d-none")             $('#user-crud-profile-text').html("profile text is required.")         } else {             $('#user-crud-profile-text-error').addClass("d-none")         }         var status= $('#user-crud-status-dropdown').val()         if(error==0) {             $.ajax({                     type: "POST",                     url: `/api/admin/editUser`,                     data: {                         "Id": id,                         "firstName":firstname,                         "lastName":lastname,                         "phoneNumber":mobileNo,                         "avatar":avatar,                         "employeeId":empId,                         "department":department,                         "city":city,                         "country":country,                         "profileText":pText,                         "password":password,                         "email":email,                         "status": status                     },                     success: function (response) {                         location.reload();                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });         }         error = 0;     }     // edit user     function editUserCrud(id) {         var element = document.getElementById("user-crud-modal-btn");         element.innerHTML = `<button type="button" class="btn btn-secondary user-crud-close-btn" data-bs-dismiss="modal">Close</button>                 <button type="button" class="btn btn-primary user-crud-save-btn" data-bs-dismiss="modal" id="user-crud-save-btn" onclick="EditUserModal(${id})">Save changes</button>`                 $.ajax({                     type: "GET",                     url: `/api/admin/getUserProfile`,                     data: {                         "id": id,                     },                     success: function (response) {                         console.log(response)                         $('#user-crud-first-name').val(response.result.firstName)                         $('#user-crud-last-name').val(response.result.lastName)                         $('#user-crud-email').val(response.result.email)                         $('#user-crud-password').val(response.result.password)                         $('#user-crud-employee-id').val(response.result.employeeId)                         $('#user-crud-department').val(response.result.department)                         $('#user-crud-mobile-number').val(response.result.phoneNumber)                         //$('#user-crud-country-dropdown').val(response.result.lastName)                         //$('#user-crud-city-dropdown').val(response.result.lastName)                         $('#user-crud-profile-text').val(response.result.profileText)                         $('#user-crud-status-dropdown').val(response.result.status)                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });     }     function deleteUserCrud(id) {         $.ajax({                     type: "POST",                     url: `/api/admin/deleteUserProfile`,                     data: {                         "id": id,                     },                     success: function (response) {                         location.reload();                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });     }     // user crud end     // cms crud start     function addCMS() {         var error = 0;         var title = $('#cms-crud-title').val()         if(title=="") {             error = 1;             $('#cms-crud-title-error').removeClass("d-none")             $('#cms-crud-title-error').html("Title is required.")         } else {             $('#cms-crud-title-error').addClass("d-none")         }         var editor = CKEDITOR.instances.cmspageeditor.getData();         var slug = $('#cms-crud-Slug').val()         if(slug=="") {             error = 1;             $('#cms-crud-Slug-error').removeClass("d-none")             $('#cms-crud-Slug-error').html("Slug is required.")         } else {             $('#cms-crud-Slug-error').addClass("d-none")         }         var status = $('#cms-crud-status').val()         if(error == 0) {             $.ajax({                     type: "POST",                     url: `/api/admin/addCMS`,                     data: {                         "title": title,                         "slug": slug,                         "status": status,                         "description": editor                     },                     success: function (response) {                         location.reload();                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });         }         error = 0;     }     function EditCMS(id) {         var error = 0;         var title = $('#cms-crud-title').val()         if(title=="") {             error = 1;             $('#cms-crud-title-error').removeClass("d-none")             $('#cms-crud-title-error').html("Title is required.")         } else {             $('#cms-crud-title-error').addClass("d-none")         }         var editor = CKEDITOR.instances.cmspageeditor.getData();         var slug = $('#cms-crud-Slug').val()         if(slug=="") {             error = 1;             $('#cms-crud-Slug-error').removeClass("d-none")             $('#cms-crud-Slug-error').html("Slug is required.")         } else {             $('#cms-crud-Slug-error').addClass("d-none")         }         var status = $('#cms-crud-status').val()         if(error == 0) {             $.ajax({                     type: "POST",                     url: `/api/admin/editCMS`,                     data: {                         "id": id,                         "title": title,                         "slug": slug,                         "status": status,                         "description": editor                     },                     success: function (response) {                         location.reload();                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });         }         error = 0;     }     function editCMSPage(id) {         var element = document.getElementById('cms-page-modal-btn');         element.innerHTML = `<button type="button" class="btn btn-secondary cms-crud-close-btn" data-bs-dismiss="modal">Close</button>                 <button type="submit" class="btn btn-primary cms-crud-save-btn" data-bs-dismiss="modal" id="cms-crud-save-btn" onclick="EditCMS(${id})">Save changes</button>`          $.ajax({                     type: "GET",                     url: `/api/admin/getCMS`,                     data: {                         "id": id,                     },                     success: function (response) {                         console.log(response);                         var title = $('#cms-crud-title').val(response.result.title)                         CKEDITOR.instances.cmspageeditor.setData(response.result.description);                         var slug = $('#cms-crud-Slug').val(response.result.slug)                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });     }     function deleteCMS(id) {         $.ajax({                     type: "POST",                     url: `/api/admin/deleteCMS`,                     data: {                         "id": id,                     },                     success: function (response) {                         location.reload();                     },                     failure: function (response) {                         alert(response.responseText);                     },                     error: function (response) {                         alert(response.responseText);                     }                 });     }     // cms crud end     // mission theme CRUD start     function AddMissionTheme() {         var error = 0;         var title = $('#mission-theme-crud-title').val();         if(title=="") {             error = 1;             $('#mission-theme-crud-title-error').removeClass("d-none")             $('#mission-theme-crud-title-error').html("Theme Title is required.")         } else {             $('#mission-theme-crud-title-error').addClass("d-none")         }         var status = $('#mission-theme-crud-status').val();         var LongStatus = 0;         if(status=="Pending") {             LongStatus = 2         } else {             LongStatus = 1         }         if(error == 0) {             $.ajax({                 type: "POST",                 url: `/api/admin/addTheme`,                 data: {                     "title": title,                     "status": LongStatus                 },                 success: function (response) {                     location.reload();                 },                 failure: function (response) {                     alert(response.responseText);                 },                 error: function (response) {                     alert(response.responseText);                 }             });         }         error = 0;     }     function EditMissionTheme(id) {         var error = 0;         var title = $('#mission-theme-crud-title').val();         if(title=="") {             error = 1;             $('#mission-theme-crud-title-error').removeClass("d-none")             $('#mission-theme-crud-title-error').html("Theme Title is required.")         } else {             $('#mission-theme-crud-title-error').addClass("d-none")         }         var status = $('#mission-theme-crud-status').val();         var LongStatus = 0;         if(status=="Pending") {             LongStatus = 2         } else {             LongStatus = 1         }         if(error == 0) {             $.ajax({                 type: "POST",                 url: `/api/admin/editTheme`,                 data: {                     "title": title,                     "status": LongStatus,                     "themeId": id                 },                 success: function (response) {                     location.reload();                 },                 failure: function (response) {                     alert(response.responseText);                 },                 error: function (response) {                     alert(response.responseText);                 }             });         }         error = 0;     }     function LoadMissionTheme(id) {         var element = document.getElementById('mission-theme-crud-btn');         element.innerHTML = `<button type="button" class="btn btn-secondary mission-theme-crud-close-btn" data-bs-dismiss="modal">Close</button>                 <button type="submit" class="btn btn-primary mission-theme-crud-save-btn" data-bs-dismiss="modal" id="mission-theme-crud-save-btn" onclick="EditMissionTheme(${id})">Save changes</button>`         $.ajax({             type: "GET",             url: `/api/admin/getTheme`,             data: {                "id": id             },             success: function (response) {                 $('#mission-theme-crud-title').val(response.result.title);                 //$('#mission-theme-crud-status').val();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     function DeleteMission(id) {         $.ajax({             type: "POST",             url: `/api/admin/deleteTheme`,             data: {                "id": id             },             success: function (response) {                 location.reload();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     // mission theme CRUD end     // mission skill CRUD end     function AddMissionSkill() {         var error = 0;         var title = $('#mission-skill-crud-title').val();         if(title=="") {             error = 1;             $('#mission-skill-crud-title-error').removeClass("d-none")             $('#mission-skill-crud-title-error').html("Skill Name is required.")         } else {             $('#mission-skill-crud-title-error').addClass("d-none")         }         var status = $('#mission-skill-crud-status').val();         var LongStatus = 0;         if(status=="Pending") {             LongStatus = 2         } else {             LongStatus = 1         }         if(error == 0) {             $.ajax({                 type: "POST",                 url: `/api/admin/addSkill`,                 data: {                     "skillName": title,                     "status": LongStatus                 },                 success: function (response) {                     location.reload();                 },                 failure: function (response) {                     alert(response.responseText);                 },                 error: function (response) {                     alert(response.responseText);                 }             });         }         error = 0;     }     function EditMissionSkill(id) {         var error = 0;         var title = $('#mission-skill-crud-title').val();         if(title=="") {             error = 1;             $('#mission-skill-crud-title-error').removeClass("d-none")             $('#mission-skill-crud-title-error').html("Skill Name is required.")         } else {             $('#mission-skill-crud-title-error').addClass("d-none")         }         var status = $('#mission-skill-crud-status').val();         var LongStatus = 0;         if(status=="Pending") {             LongStatus = 2         } else {             LongStatus = 1         }         if(error == 0) {             $.ajax({                 type: "POST",                 url: `/api/admin/editSkill`,                 data: {                     "skillName": title,                     "status": LongStatus,                     "skillId": id                 },                 success: function (response) {                     location.reload();                 },                 failure: function (response) {                     alert(response.responseText);                 },                 error: function (response) {                     alert(response.responseText);                 }             });         }         error = 0;     }     function LoadMissionSkill(id) {         var element = document.getElementById('mission-skill-crud-btn');         element.innerHTML = `<button type="button" class="btn btn-secondary mission-skill-crud-close-btn" data-bs-dismiss="modal">Close</button>                 <button type="submit" class="btn btn-primary mission-skill-crud-save-btn" data-bs-dismiss="modal" id="mission-skill-crud-save-btn" onclick="EditMissionSkill(${id})">Save changes</button>`         $.ajax({             type: "GET",             url: `/api/admin/getSkill`,             data: {                "id": id             },             success: function (response) {                 console.log(response)                 $('#mission-skill-crud-title').val(response.result.skillName);                 //$('#mission-theme-crud-status').val();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     function DeleteSkill(id) {         $.ajax({             type: "POST",             url: `/api/admin/deleteSkill`,             data: {                "id": id             },             success: function (response) {                 location.reload();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     // mission skill CRUD end     // mission application approve start     function ApproveMissionApplication(id) {         $.ajax({             type: "POST",             url: `/api/admin/approveMission`,             data: {                "id": id             },             success: function (response) {                 location.reload();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     function RejectMissionApplication(id) {         $.ajax({             type: "POST",             url: `/api/admin/rejectMission`,             data: {                "id": id             },             success: function (response) {                 location.reload();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     // mission skill approve end     // story approve start     function ApproveStory(id) {         $.ajax({             type: "POST",             url: `/api/admin/approveStory`,             data: {                "id": id             },             success: function (response) {                 location.reload();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     function RejectStory(id) {         $.ajax({             type: "POST",             url: `/api/admin/rejectStory`,             data: {                "id": id             },             success: function (response) {                 location.reload();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     function DeleteStory(id) {         $.ajax({             type: "POST",             url: `/api/admin/deleteStory`,             data: {                "id": id             },             success: function (response) {                 location.reload();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     // story approve end     // mission start     function AddMission() {         var error = 0;         var title = $('#mission-title').val();         if(title=="") {             error = 1;             $('#mission-title-error').removeClass("d-none")             $('#mission-title-error').html("Title is required.")         } else {             $('#mission-title-error').addClass("d-none")         }         var organization = $('#mission-organization').val();         if(organization=="") {             error = 1;             $('#mission-organization-error').removeClass("d-none")             $('#mission-organization-error').html("Organization is required.")         } else {             $('#mission-organization-error').addClass("d-none")         }         var description = CKEDITOR.instances.cmspageeditor1.getData();         var organizationDetails = CKEDITOR.instances.cmspageeditor2.getData();         var startDate = $('#mission-start-date').val();         if(startDate=="") {             error = 1;             $('#mission-start-date-error').removeClass("d-none")             $('#mission-start-date-error').html("Start Date is required.")         } else {             $('#mission-start-date-error').addClass("d-none")         }         var endDate = $('#mission-end-date').val();         if(endDate=="") {             error = 1;             $('#mission-end-date-error').removeClass("d-none")             $('#mission-end-date-error').html("End Date is required.")         } else {             $('#mission-end-date-error').addClass("d-none")         }         var countryId = $('#mission-country').val();         if(countryId==null) {             error = 1;             $('#mission-country-error').removeClass("d-none")             $('#mission-country-error').html("Country is required.")         } else {             $('#mission-country-error').addClass("d-none")         }         var cityId = $('#mission-city').val();                  if(cityId==null) {             error = 1;             $('#mission-city-error').removeClass("d-none")             $('#mission-city-error').html("City is required.")         } else {             $('#mission-city-error').addClass("d-none")         }         var seats = $('#mission-seats').val();         var deadline = $('#mission-registration-deadline').val();         var availability = $('#mission-availability').val();         if(availability==null) {             error = 1;             $('#mission-availability-error').removeClass("d-none")             $('#mission-availability-error').html("Availability is required.")         } else {             $('#mission-availability-error').addClass("d-none")         }         var type = $('#mission-type').val();         if(type==null) {             error = 1;             $('#mission-type-error').removeClass("d-none")             $('#mission-type-error').html("Type is required.")         } else {             $('#mission-type-error').addClass("d-none")         }         var status = $('#mission-status').val();         if(status==null) {             error = 1;             $('#mission-status-error').removeClass("d-none")             $('#mission-status-error').html("Status is required.")         } else {             $('#mission-status-error').addClass("d-none")         }         var themeId = $('#mission-theme').val();         if(themeId==null) {             error = 1;             $('#mission-theme-error').removeClass("d-none")             $('#mission-theme-error').html("Theme is required.")         } else {             $('#mission-theme-error').addClass("d-none")         }         // for images         let file = $("#mission-images")[0].files;                  var images = [];         for(var i=0; i<file.length; i++) {             images.push(file[i].name);         }                  // for documents         let Docfile = $("#mission-document")[0].files;                  var doc = [];         for(var i=0; i<Docfile.length; i++) {             doc.push(Docfile[i].name);         }         console.log(doc);         if(error == 0) {             $.ajax({                 type: "POST",                 url: `/api/admin/addMission`,                 data: {                     "title": title,                     "organization": organization,                     "description": description,                     "organizationDetails": organizationDetails,                     "startDate": startDate,                     "endDate": endDate,                     "countryId": countryId,                     "cityId": cityId,                     "seats": seats,                     "deadline": deadline,                     "availability": availability,                     "missionType": type,                     "status": status,                     "themeId": themeId,                     "images": images,                     "docs": doc                 },                 success: function (response) {                                     },                 failure: function (response) {                     alert(response.responseText);                 },                 error: function (response) {                     alert(response.responseText);                 }             });         }         error = 0;     }     function LoadMissionData(id) {         var element = document.getElementById('mission-crud-btn');         element.innerHTML = `<button type="button" class="btn btn-secondary mission-skill-crud-close-btn" data-bs-dismiss="modal">Close</button>                <button type="submit" class="btn btn-primary mission-skill-crud-save-btn" id="mission-crud-save-btn" onclick="EditMission(${id})">Save changes</button>`         $.ajax({             type: "GET",             url: `/api/admin/loadMission`,             data: {                 "id": id             },             success: function (response) {                console.log(response);                 $('#mission-title').val(response.result.title);                 $('#mission-organization').val(response.result.organization);                 CKEDITOR.instances.cmspageeditor1.setData(response.result.description);                 CKEDITOR.instances.cmspageeditor2.setData(response.result.organizationDetails);                 $('#mission-start-date').val(response.result.startDate);                 $('#mission-end-date').val(response.result.endDate);                 //$('#mission-country').val(response.result.title);                 //$('#mission-city').val(response.result.title);                 $('#mission-seats').val(response.result.seats);                 $('#mission-registration-deadline').val(response.result.title);                 //$('#mission-availability').val(response.result.title);             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     function EditMission(id) {                  var error = 0;         var title = $('#mission-title').val();         if(title=="") {             error = 1;             $('#mission-title-error').removeClass("d-none")             $('#mission-title-error').html("Title is required.")         } else {             $('#mission-title-error').addClass("d-none")         }         var organization = $('#mission-organization').val();         if(organization=="") {             error = 1;             $('#mission-organization-error').removeClass("d-none")             $('#mission-organization-error').html("Organization is required.")         } else {             $('#mission-organization-error').addClass("d-none")         }         var description = CKEDITOR.instances.cmspageeditor1.getData();         var organizationDetails = CKEDITOR.instances.cmspageeditor2.getData();         var startDate = $('#mission-start-date').val();         if(startDate=="") {             error = 1;             $('#mission-start-date-error').removeClass("d-none")             $('#mission-start-date-error').html("Start Date is required.")         } else {             $('#mission-start-date-error').addClass("d-none")         }         var endDate = $('#mission-end-date').val();         if(endDate=="") {             error = 1;             $('#mission-end-date-error').removeClass("d-none")             $('#mission-end-date-error').html("End Date is required.")         } else {             $('#mission-end-date-error').addClass("d-none")         }         var countryId = $('#mission-country').val();         if(countryId==null) {             error = 1;             $('#mission-country-error').removeClass("d-none")             $('#mission-country-error').html("Country is required.")         } else {             $('#mission-country-error').addClass("d-none")         }         var cityId = $('#mission-city').val();                  if(cityId==null) {             error = 1;             $('#mission-city-error').removeClass("d-none")             $('#mission-city-error').html("City is required.")         } else {             $('#mission-city-error').addClass("d-none")         }         var seats = $('#mission-seats').val();         var deadline = $('#mission-registration-deadline').val();         var availability = $('#mission-availability').val();         if(availability==null) {             error = 1;             $('#mission-availability-error').removeClass("d-none")             $('#mission-availability-error').html("Availability is required.")         } else {             $('#mission-availability-error').addClass("d-none")         }         var type = $('#mission-type').val();         if(type==null) {             error = 1;             $('#mission-type-error').removeClass("d-none")             $('#mission-type-error').html("Type is required.")         } else {             $('#mission-type-error').addClass("d-none")         }         var status = $('#mission-status').val();         if(status==null) {             error = 1;             $('#mission-status-error').removeClass("d-none")             $('#mission-status-error').html("Status is required.")         } else {             $('#mission-status-error').addClass("d-none")         }         var themeId = $('#mission-theme').val();         if(themeId==null) {             error = 1;             $('#mission-theme-error').removeClass("d-none")             $('#mission-theme-error').html("Theme is required.")         } else {             $('#mission-theme-error').addClass("d-none")         }         // for images         let file = $("#mission-images")[0].files;                  var images = [];         for(var i=0; i<file.length; i++) {             images.push(file[i].name);         }         console.log(title, organization, description, organizationDetails, startDate, endDate, countryId, cityId, seats, deadline, availability)         if(error == 0) {             $.ajax({                 type: "POST",                 url: `/api/admin/editMission`,                 data: {                     "id": id,                     "title": title,                     "organization": organization,                     "description": description,                     "organizationDetails": organizationDetails,                     "startDate": startDate,                     "endDate": endDate,                     "countryId": countryId,                     "cityId": cityId,                     "seats": seats,                     "deadline": deadline,                     "availability": availability,                     "missionType": type,                     "status": status,                     "themeId": themeId,                     "images": images                 },                 success: function (response) {                    location.reload();                 },                 failure: function (response) {                     alert(response.responseText);                 },                 error: function (response) {                     alert(response.responseText);                 }             });         }         error = 0;     }     function DeleteMission(id) {         $.ajax({             type: "POST",             url: `/api/admin/deleteMission`,             data: {                "id": id             },             success: function (response) {                 location.reload();             },             failure: function (response) {                 alert(response.responseText);             },             error: function (response) {                 alert(response.responseText);             }         });     }     function loadTheme(response) {         console.log(response)         var html = '<option selected disabled hidden>Select Theme</option>';         response.result.map(item => {             html += `<option value="${item.themeId}">${item.title}</option>`         }).join("")         return html;     }     //load mission theme     $.ajax({         type: "GET",         url: `/api/admin/getThemes`,         success: function (response) {                          var element = document.getElementById('mission-theme');             element.innerHTML = loadTheme(response);         },         failure: function (response) {             alert(response.responseText);         },         error: function (response) {             alert(response.responseText);         }     });          // images save to db     function InsertMissionImage() {                 var files = $('#mission-images').prop("files");         var url = "/api/admin/saveImg";                  var formData = new FormData();                 //formData.append("MyUploader", files);         if(files.length > 0) {            for(var x = 0; x < files.length; x++) {                // the name has to be 'files' so that .NET could properly bind it                formData.append('MyUploader', files.item(x));                }         }          console.log(formData.MyUploader)         jQuery.ajax({             type: 'POST',             url: url,             data: formData,             cache: false,             contentType: false,             processData: false,             beforeSend: function (xhr) {                 xhr.setRequestHeader("XSRF-TOKEN",                     $('input:hidden[name="__RequestVerificationToken"]').val());             },             success: function (response) {                             },             error: function(response) {                 alert(response);             }         });                        }     // save document to root     function InsertMissionDocs() {                 var files = $('#mission-document').prop("files");         var url = "/api/admin/saveDoc";                  var formData = new FormData();                 //formData.append("MyUploader", files);         if(files.length > 0) {            for(var x = 0; x < files.length; x++) {                // the name has to be 'files' so that .NET could properly bind it                formData.append('MyUploader', files.item(x));                }         }          console.log(formData.MyUploader)         jQuery.ajax({             type: 'POST',             url: url,             data: formData,             cache: false,             contentType: false,             processData: false,             beforeSend: function (xhr) {                 xhr.setRequestHeader("XSRF-TOKEN",                     $('input:hidden[name="__RequestVerificationToken"]').val());             },             success: function (response) {                             },             error: function(response) {                 alert(response);             }         });                        }     // mission end         </script>